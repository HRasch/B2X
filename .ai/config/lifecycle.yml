# B2X Lifecycle Stage Configuration
# See ADR-037 for full lifecycle stages framework
#
# Stages: alpha | pre-release | release-candidate | stable | lts | maintenance | deprecated
#
# Last Updated: 2026-01-05
# Owner: @SARAH

project:
  name: B2X
  current-version: 0.8.0
  default-stage: pre-release
  
  # Project-level governance
  governance:
    breaking-changes-allowed: true
    deprecation-required: false
    backwards-compatibility-required: false
    governed-by: GL-014

# Component-level lifecycle stages
# Different components can be at different stages
components:
  
  # ============================================
  # Backend Components
  # ============================================
  
  core-api:
    stage: pre-release
    version: 0.8.0
    description: "Core domain APIs (Catalog, Identity, CMS, etc.)"
    owners: ["@Backend", "@Architect"]
    stability: unstable
    breaking-changes: allowed
    
  gateway-store:
    stage: pre-release
    version: 0.8.0
    description: "Store Gateway API"
    owners: ["@Backend"]
    stability: unstable
    
  gateway-admin:
    stage: pre-release
    version: 0.8.0
    description: "Admin Gateway API"
    owners: ["@Backend"]
    stability: unstable
    
  search-service:
    stage: pre-release
    version: 0.7.0
    description: "Elasticsearch integration"
    owners: ["@Backend"]
    stability: unstable
    note: "Elasticsearch patterns maturing"
    
  # ============================================
  # Frontend Components
  # ============================================
  
  store-frontend:
    stage: pre-release
    version: 0.8.0
    description: "Customer-facing storefront (Vue.js)"
    owners: ["@Frontend"]
    stability: unstable
    
  admin-frontend:
    stage: pre-release
    version: 0.8.0
    description: "Admin management UI (Vue.js)"
    owners: ["@Frontend"]
    stability: unstable
    
  management-frontend:
    stage: pre-release
    version: 0.8.0
    description: "Tenant management UI (Vue.js)"
    owners: ["@Frontend"]
    stability: unstable
    
  # ============================================
  # CLI & Tools
  # ============================================
  
  cli:
    stage: alpha
    version: 0.0.3
    description: "Command-line interface"
    owners: ["@Backend", "@DevOps"]
    stability: experimental
    note: "Architecture split in progress (ADR-031)"
    breaking-changes: anytime
    
  erp-connectors:
    stage: alpha
    version: 0.0.1
    description: "ERP integration connectors"
    owners: ["@Backend", "@Enventa"]
    stability: experimental
    note: "Plugin architecture being designed (ADR-034)"
    breaking-changes: anytime
    
  ids-connect-adapter:
    stage: alpha
    version: 0.0.1
    description: "IDS Connect integration adapter"
    owners: ["@Backend"]
    stability: experimental
    note: "See ADR-029-ICAS"
    
  # ============================================
  # Infrastructure
  # ============================================
  
  aspire-apphost:
    stage: pre-release
    version: 0.8.0
    description: "Aspire orchestration host"
    owners: ["@DevOps"]
    stability: unstable
    
  database-schema:
    stage: pre-release
    version: 0.8.0
    description: "PostgreSQL schema"
    owners: ["@Backend", "@Architect"]
    stability: unstable
    note: "Migrations allowed without deprecation"

# Stage transition history
transitions:
  - date: 2025-01-01
    component: "*"
    from: alpha
    to: pre-release
    approved-by: "@Architect"
    note: "Initial project structure established"

# Upcoming transitions (planned)
planned-transitions:
  - target-date: 2026-Q2
    component: core-api
    from: pre-release
    to: release-candidate
    blockers:
      - "API freeze declaration"
      - "80% test coverage"
      - "Security audit"
      
  - target-date: 2026-Q3
    component: "*"
    from: release-candidate
    to: stable
    blockers:
      - "RC testing complete"
      - "Documentation complete"
      - "Performance benchmarks met"

# Stage-specific policies (quick reference)
stage-policies:
  alpha:
    version-pattern: "0.0.x"
    stability: experimental
    breaking-changes: anytime
    deprecation-required: false
    production-use: prohibited
    test-coverage-target: 0
    
  pre-release:
    version-pattern: "0.x.x"
    stability: unstable
    breaking-changes: minor-bump
    deprecation-required: false
    production-use: at-own-risk
    test-coverage-target: 60
    governed-by: GL-014
    
  release-candidate:
    version-pattern: "x.y.z-rc.n"
    stability: feature-complete
    breaking-changes: blocked
    deprecation-required: false
    production-use: early-adopters
    test-coverage-target: 80
    
  stable:
    version-pattern: "x.y.z"
    stability: production
    breaking-changes: major-only
    deprecation-required: true
    deprecation-notice: "1 minor version"
    production-use: recommended
    test-coverage-target: 80
    
  lts:
    version-pattern: "x.y.z (tagged)"
    stability: long-term
    breaking-changes: security-only
    deprecation-required: true
    deprecation-notice: "3 minor versions or 6 months"
    production-use: recommended
    support-duration: "18-24 months"
    
  maintenance:
    version-pattern: "x.y.z (tagged)"
    stability: security-only
    breaking-changes: critical-security-only
    production-use: upgrade-recommended
    support-duration: "6 months"
    
  deprecated:
    stability: end-of-life
    breaking-changes: none
    production-use: prohibited
    support: none
