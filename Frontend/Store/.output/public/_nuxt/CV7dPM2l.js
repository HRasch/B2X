import{j as D,r as v,L as R,c as a,s as c,a as e,t as o,o as s,_ as j,k as A,l as L,m as M,b as P,w as S,p as O,F as _,q as f,y as F,d as k,H as N,G as $,v as Q,A as G,M as U}from"./C9zZ3pWr.js";const q={class:"space-y-2"},z={key:0,class:"text-lg font-semibold"},H={class:"text-2xl"},J={class:"text-sm text-gray-600 ml-1"},K={key:1,class:"text-red-600 text-sm"},W={key:2,class:"text-gray-400 text-sm"},X={key:3,class:"border-t pt-2 text-sm"},Y={class:"flex justify-between text-gray-700"},Z={key:0,class:"flex justify-between text-gray-700"},ee={class:"flex justify-between font-semibold border-t mt-1 pt-1"},te={class:"flex justify-between text-green-700 font-semibold"},se={class:"flex justify-between font-bold border-t mt-1 pt-1 text-lg"},ae=D({__name:"ProductPrice",props:{productPrice:{},destinationCountry:{default:"DE"},shippingCost:{default:0},currencyCode:{default:"EUR"},showBreakdown:{type:Boolean,default:!0}},setup(m){const h=m,r=v(null),t=v(!1),u=v(null);R(()=>[h.productPrice,h.destinationCountry,h.shippingCost],async()=>{t.value=!0,u.value=null;try{const n=await(await fetch("/api/catalog/getpricebreakdown",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({productPrice:h.productPrice,destinationCountry:h.destinationCountry,shippingCost:h.shippingCost})})).json();n.success?r.value=n.breakdown:u.value=n.message||"Failed to calculate price"}catch(b){u.value="Error fetching price breakdown",console.error(b)}finally{t.value=!1}},{immediate:!0});const d=(b,n="EUR")=>new Intl.NumberFormat("de-DE",{style:"currency",currency:n}).format(b);return(b,n)=>(s(),a("div",q,[r.value?(s(),a("div",z,[e("span",H,o(d(r.value.finalTotal,m.currencyCode)),1),e("span",J,"inkl. "+o(r.value.vatRate)+"% MwSt.",1)])):c("",!0),u.value?(s(),a("div",K,o(u.value),1)):c("",!0),t.value?(s(),a("div",W,"Berechne Preis...")):c("",!0),m.showBreakdown&&r.value&&!t.value?(s(),a("div",X,[e("div",Y,[n[0]||(n[0]=e("span",null,"Produktpreis:",-1)),e("span",null,o(d(r.value.productPrice,m.currencyCode)),1)]),r.value.shippingCost>0?(s(),a("div",Z,[n[1]||(n[1]=e("span",null,"Versand:",-1)),e("span",null,o(d(r.value.shippingCost,m.currencyCode)),1)])):c("",!0),e("div",ee,[n[2]||(n[2]=e("span",null,"Summe (ohne MwSt.):",-1)),e("span",null,o(d(r.value.productPrice+(r.value.shippingCost||0),m.currencyCode)),1)]),e("div",te,[e("span",null,"MwSt. ("+o(r.value.vatRate)+"%):",1),e("span",null,o(d(r.value.vatAmount,m.currencyCode)),1)]),e("div",se,[n[3]||(n[3]=e("span",null,"Gesamtpreis:",-1)),e("span",null,o(d(r.value.finalTotal,m.currencyCode)),1)])])):c("",!0)]))}}),oe=j(ae,[["__scopeId","data-v-5b99f8db"]]),ne={class:"min-h-screen bg-base-100"},le={class:"breadcrumbs text-sm px-4 py-4 max-w-7xl mx-auto"},ie={key:0,class:"text-base-content/70"},re={key:0,class:"flex justify-center items-center py-24"},ce={class:"flex flex-col items-center gap-4"},de={class:"text-base-content/70"},ue={key:1,class:"max-w-7xl mx-auto px-4 py-8"},pe={class:"alert alert-error"},ve={key:2,class:"max-w-7xl mx-auto px-4 py-8"},me={class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},be={class:"flex flex-col gap-4"},ge={class:"card bg-base-200 shadow-sm overflow-hidden h-96 lg:h-[500px]"},he={class:"flex items-center justify-center h-full bg-base-300"},_e=["src","alt"],fe={class:"flex gap-2"},ye=["onClick"],xe={class:"flex items-center justify-center h-full"},ke=["src","alt"],we={class:"text-sm text-base-content/70 mb-2"},Ce={class:"text-3xl lg:text-4xl font-bold mb-2"},Pe={class:"flex items-center gap-2 mb-4"},Se={class:"rating rating-sm gap-1"},$e=["checked"],De={class:"text-sm font-semibold"},je={class:"text-sm text-base-content/70"},Te={key:0,class:"text-sm text-base-content/70 mb-4"},Be={class:"font-mono"},Ie={class:"text-base-content/90 mb-6 leading-relaxed"},Ve={class:"card bg-green-50 border-l-4 border-green-500 shadow-sm mb-6"},Ee={class:"card-body"},Re={class:"font-semibold"},Ae={key:0,class:"text-sm ml-2"},Le={class:"flex gap-4 mb-6"},Me={class:"flex items-center border border-base-300 rounded-lg"},Oe=["disabled"],Fe=["max","disabled"],Ne=["disabled"],Qe=["disabled"],Ge={key:0,class:"loading loading-spinner loading-sm"},Ue={key:1},qe={key:1,class:"flex gap-2 flex-wrap mb-6"},ze={key:0,class:"mt-12"},He={class:"card bg-base-200 shadow-sm overflow-hidden"},Je={class:"overflow-x-auto"},Ke={class:"table w-full"},We={class:"font-semibold w-1/3"},Xe={key:1,class:"mt-12"},Ye={class:"space-y-4"},Ze={class:"card-body"},et={class:"flex justify-between items-start"},tt={class:"card-title text-base"},st={class:"text-sm text-base-content/70"},at={class:"font-semibold"},ot={key:0,class:"badge badge-sm badge-success ml-2"},nt={class:"text-right"},lt={class:"rating rating-sm gap-1"},it=["checked"],rt={class:"text-xs text-base-content/70 mt-1"},ct={class:"mt-4 text-base-content/90"},dt={class:"btn btn-ghost w-full mt-6"},ut=D({__name:"ProductDetail",setup(m){const h=U(),r=A(),t=v(null),u=v([]),y=v(!1),d=v(null),b=v(0),n=v(1),x=v(!1),T=L(()=>t.value?.images?.[b.value]||""),w=async()=>{y.value=!0,d.value=null;try{const g=h.params.id;t.value={id:g,name:'Premium Laptop Pro 15"',sku:"LP-2024-PRO",description:"High-performance laptop for professionals and creators",longDescription:`The Premium Laptop Pro is engineered for professionals who demand 
        the best performance. With the latest processor, ample RAM, and SSD storage, 
        this laptop handles demanding tasks with ease. Perfect for developers, designers, 
        and content creators.`,price:1299.99,images:["https://via.placeholder.com/500x400?text=Laptop+Front","https://via.placeholder.com/500x400?text=Laptop+Side","https://via.placeholder.com/500x400?text=Laptop+Open"],category:"Electronics",rating:4.7,reviewCount:48,inStock:!0,stockQuantity:5,specifications:{Processor:"Intel Core i9",RAM:"32GB DDR5",Storage:"1TB SSD NVMe",Display:'15.6" 4K OLED',Battery:"12 hours",Weight:"1.8 kg"},tags:["professional","gaming","portable","business"]},u.value=[{id:"1",author:"John Developer",rating:5,title:"Excellent for development work",comment:"This laptop is fantastic for programming. Fast compilation, great performance.",date:"2024-12-20",verified:!0},{id:"2",author:"Sarah Designer",rating:4,title:"Great display, good performance",comment:"The display is absolutely stunning for design work. Only minor issue is the price.",date:"2024-12-15",verified:!0}]}catch(g){d.value=g instanceof Error?g.message:"Failed to load product"}finally{y.value=!1}},B=g=>{b.value=g},I=()=>{t.value&&n.value<(t.value.stockQuantity||1)&&n.value++},V=()=>{n.value>1&&n.value--},E=async()=>{if(t.value){x.value=!0;try{r.addItem({id:t.value.id,name:t.value.name,price:t.value.price,image:t.value.images[0],quantity:n.value}),console.log(`Added ${n.value} Ã— ${t.value.name} to cart`),n.value=1}finally{x.value=!1}}};return M(()=>{w()}),(g,l)=>{const C=O("router-link");return s(),a("div",ne,[e("nav",le,[e("ul",null,[e("li",null,[P(C,{to:"/"},{default:S(()=>[...l[1]||(l[1]=[k("Home",-1)])]),_:1})]),e("li",null,[P(C,{to:"/products"},{default:S(()=>[...l[2]||(l[2]=[k("Products",-1)])]),_:1})]),t.value?(s(),a("li",ie,o(t.value.name),1)):c("",!0)])]),y.value?(s(),a("div",re,[e("div",ce,[l[3]||(l[3]=e("span",{class:"loading loading-spinner loading-lg text-primary"},null,-1)),e("p",de,o(g.$t("ui.loadingProductDetails")),1)])])):d.value?(s(),a("div",ue,[e("div",pe,[e("div",null,[e("span",null,o(d.value),1)]),e("button",{onClick:w,class:"btn btn-sm btn-ghost"},o(g.$t("ui.retry")),1)])])):t.value?(s(),a("div",ve,[e("div",me,[e("div",be,[e("div",ge,[e("figure",he,[e("img",{src:T.value,alt:t.value.name,class:"h-full w-full object-cover",loading:"lazy"},null,8,_e)])]),e("div",fe,[(s(!0),a(_,null,f(t.value.images,(i,p)=>(s(),a("button",{key:p,onClick:pt=>B(p),class:$(["card bg-base-200 shadow-sm overflow-hidden w-20 h-20 cursor-pointer transition-all",b.value===p?"ring-2 ring-primary":"hover:ring-2 hover:ring-primary/50"])},[e("figure",xe,[e("img",{src:i,alt:`${t.value.name} - Image ${p+1}`,class:"h-full w-full object-cover",loading:"lazy"},null,8,ke)])],10,ye))),128))])]),e("div",null,[e("div",we,o(t.value.category),1),e("h1",Ce,o(t.value.name),1),e("div",Pe,[e("div",Se,[(s(),a(_,null,f(5,i=>e("input",{key:i,type:"radio",checked:i<=Math.round(t.value.rating),class:"mask mask-star-2 bg-warning",disabled:""},null,8,$e)),64))]),e("span",De,o(t.value.rating),1),e("span",je,"("+o(t.value.reviewCount)+" reviews)",1)]),t.value.sku?(s(),a("p",Te,[l[4]||(l[4]=k(" SKU: ",-1)),e("span",Be,o(t.value.sku),1)])):c("",!0),e("p",Ie,o(t.value.longDescription),1),l[7]||(l[7]=e("div",{class:"divider my-4"},null,-1)),e("div",Ve,[e("div",Ee,[l[5]||(l[5]=e("h3",{class:"card-title text-base mb-4"},"Price Overview",-1)),t.value?(s(),N(oe,{key:0,"product-price":t.value.price,"destination-country":"DE","shipping-cost":0,"show-breakdown":""},null,8,["product-price"])):c("",!0),l[6]||(l[6]=e("p",{class:"text-xs text-gray-500 mt-3"}," All prices include VAT in accordance with PAngV (Price Indication Ordinance) ",-1))])]),e("div",{class:$(["mb-6 p-4 rounded-lg",t.value.inStock?"bg-success/20 text-success border border-success":"bg-error/20 text-error border border-error"])},[e("span",Re,o(t.value.inStock?"âœ“ In Stock":"âœ— Out of Stock"),1),t.value.inStock&&t.value.stockQuantity?(s(),a("span",Ae," ("+o(t.value.stockQuantity)+" available) ",1)):c("",!0)],2),e("div",Le,[e("div",Me,[e("button",{onClick:V,disabled:n.value<=1||!t.value.inStock,class:"btn btn-ghost btn-sm rounded-none"}," âˆ’ ",8,Oe),Q(e("input",{"onUpdate:modelValue":l[0]||(l[0]=i=>n.value=i),type:"number",min:"1",max:t.value.stockQuantity||1,class:"input input-ghost w-16 text-center no-spinner",disabled:!t.value.inStock},null,8,Fe),[[G,n.value,void 0,{number:!0}]]),e("button",{onClick:I,disabled:n.value>=(t.value.stockQuantity||1)||!t.value.inStock,class:"btn btn-ghost btn-sm rounded-none"}," + ",8,Ne)]),e("button",{onClick:E,disabled:!t.value.inStock||x.value,class:"btn btn-primary flex-1"},[x.value?(s(),a("span",Ge)):(s(),a("span",Ue,"Add to Cart"))],8,Qe)]),t.value.tags&&t.value.tags.length>0?(s(),a("div",qe,[(s(!0),a(_,null,f(t.value.tags,i=>(s(),a("div",{key:i,class:"badge badge-lg badge-outline"},o(i),1))),128))])):c("",!0),l[8]||(l[8]=F('<div class="flex gap-2 items-center pt-4 border-t border-base-300" data-v-7b5101e1><span class="text-sm text-base-content/70" data-v-7b5101e1>Share:</span><button class="btn btn-ghost btn-circle btn-sm" title="Share on Facebook" data-v-7b5101e1>f</button><button class="btn btn-ghost btn-circle btn-sm" title="Share on Twitter" data-v-7b5101e1>ğ•</button><button class="btn btn-ghost btn-circle btn-sm" title="Copy link" data-v-7b5101e1>ğŸ”—</button></div>',1))])]),t.value.specifications?(s(),a("div",ze,[l[9]||(l[9]=e("h2",{class:"text-2xl font-bold mb-6"},"Specifications",-1)),e("div",He,[e("div",Je,[e("table",Ke,[e("tbody",null,[(s(!0),a(_,null,f(t.value.specifications,(i,p)=>(s(),a("tr",{key:p},[e("td",We,o(p),1),e("td",null,o(i),1)]))),128))])])])])])):c("",!0),u.value.length>0?(s(),a("div",Xe,[l[11]||(l[11]=e("h2",{class:"text-2xl font-bold mb-6"},"Customer Reviews",-1)),e("div",Ye,[(s(!0),a(_,null,f(u.value,i=>(s(),a("div",{key:i.id,class:"card bg-base-200 shadow-sm"},[e("div",Ze,[e("div",et,[e("div",null,[e("h3",tt,o(i.title),1),e("p",st,[l[10]||(l[10]=k(" by ",-1)),e("span",at,o(i.author),1),i.verified?(s(),a("span",ot," âœ“ Verified ")):c("",!0)])]),e("div",nt,[e("div",lt,[(s(),a(_,null,f(5,p=>e("input",{key:p,type:"radio",checked:p<=i.rating,class:"mask mask-star-2 bg-warning",disabled:""},null,8,it)),64))]),e("p",rt,o(i.date),1)])]),e("p",ct,o(i.comment),1)])]))),128))]),e("button",dt," View All Reviews ("+o(u.value.length)+" total) ",1)])):c("",!0)])):c("",!0)])}}}),mt=j(ut,[["__scopeId","data-v-7b5101e1"]]);export{mt as default};
