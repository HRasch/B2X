import{j as M,l as m,c as d,a as t,G as S,t as n,s as h,b as I,w as R,d as j,p as q,o as i,_ as B,k as D,r as p,m as E,v as $,A as H,x as Q,y as z,F as w,q as C,B as K,H as O}from"./C9zZ3pWr.js";const G={class:"card bg-base-100 shadow-md hover:shadow-lg transition-shadow duration-300"},Z={class:"relative bg-base-200 overflow-hidden h-48"},J=["src","alt"],W={class:"absolute top-2 right-2"},X={class:"absolute top-2 left-2"},Y={class:"badge badge-primary"},tt={class:"card-body p-4"},et={class:"flex justify-between items-start gap-2"},st={class:"card-title text-base line-clamp-2"},at={class:"flex items-center gap-1 flex-shrink-0"},ot={class:"rating rating-sm"},lt=["checked"],nt=["checked"],it=["checked"],dt=["checked"],rt=["checked"],ct={class:"text-xs text-base-content/70"},ut={class:"text-sm text-base-content/70 line-clamp-2"},mt={key:0,class:"text-xs text-base-content/50 mt-1"},vt={class:"price-section"},pt={class:"flex justify-between items-baseline mb-1"},bt={class:"text-2xl font-bold text-primary"},gt={class:"collapse bg-base-200 rounded-lg p-0"},xt={class:"collapse-title text-xs text-base-content/70 py-1 px-2 min-h-auto"},ft={class:"collapse-content text-xs space-y-1 p-2"},ht={class:"flex justify-between"},yt={class:"flex justify-between"},kt={class:"flex justify-between font-semibold"},_t={class:"card-actions justify-between items-center mt-4"},$t=["disabled"],wt={key:0},Ct={key:1},St=M({__name:"ProductCardModern",props:{product:{},priceBreakdown:{}},emits:["add-to-cart"],setup(o,{emit:y}){const u=o,v=y,g=m(()=>new Intl.NumberFormat("de-DE",{style:"currency",currency:"EUR"}).format(u.product.price)),r=m(()=>{const l=u.product.price/1.19,c=u.product.price-l;return{net:l.toFixed(2),vat:c.toFixed(2),total:u.product.price.toFixed(2)}}),b=()=>{v("add-to-cart",u.product)};return(x,l)=>{const c=q("router-link");return i(),d("div",G,[t("figure",Z,[t("img",{src:o.product.image,alt:o.product.name,class:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300",loading:"lazy"},null,8,J),t("div",W,[t("div",{class:S(["badge",o.product.inStock?"badge-success":"badge-error"])},n(o.product.inStock?"In Stock":"Out of Stock"),3)]),t("div",X,[t("div",Y,n(o.product.category),1)])]),t("div",tt,[t("div",et,[t("h2",st,n(o.product.name),1),t("div",at,[t("div",ot,[t("input",{type:"radio",name:"rating",class:"mask mask-star-2 bg-orange-400",checked:Math.round(o.product.rating)>=1,disabled:""},null,8,lt),t("input",{type:"radio",name:"rating",class:"mask mask-star-2 bg-orange-400",checked:Math.round(o.product.rating)>=2,disabled:""},null,8,nt),t("input",{type:"radio",name:"rating",class:"mask mask-star-2 bg-orange-400",checked:Math.round(o.product.rating)>=3,disabled:""},null,8,it),t("input",{type:"radio",name:"rating",class:"mask mask-star-2 bg-orange-400",checked:Math.round(o.product.rating)>=4,disabled:""},null,8,dt),t("input",{type:"radio",name:"rating",class:"mask mask-star-2 bg-orange-400",checked:Math.round(o.product.rating)>=5,disabled:""},null,8,rt)]),t("span",ct,n(o.product.rating.toFixed(1)),1)])]),t("p",ut,n(o.product.description),1),o.product.sku?(i(),d("p",mt,"SKU: "+n(o.product.sku),1)):h("",!0),l[6]||(l[6]=t("div",{class:"divider my-2"},null,-1)),t("div",vt,[t("div",pt,[l[0]||(l[0]=t("span",{class:"text-sm font-semibold"},"Total",-1)),t("span",bt,n(g.value),1)]),t("details",gt,[t("summary",xt," incl. "+n(19 .toFixed(0))+"% VAT ("+n(r.value.vat)+"â‚¬) ",1),t("div",ft,[t("div",ht,[l[1]||(l[1]=t("span",null,"Net price:",-1)),t("span",null,"â‚¬"+n(r.value.net),1)]),t("div",yt,[l[2]||(l[2]=t("span",null,"VAT (19%):",-1)),t("span",null,"â‚¬"+n(r.value.vat),1)]),l[4]||(l[4]=t("div",{class:"divider my-1"},null,-1)),t("div",kt,[l[3]||(l[3]=t("span",null,"Total:",-1)),t("span",null,"â‚¬"+n(r.value.total),1)])])])]),t("div",_t,[I(c,{to:`/product/${o.product.id}`,class:"link link-hover text-sm"},{default:R(()=>[...l[5]||(l[5]=[j(" View Details â†’ ",-1)])]),_:1},8,["to"]),t("button",{onClick:b,disabled:!o.product.inStock,class:S(["btn btn-sm",o.product.inStock?"btn-primary":"btn-disabled"]),"aria-label":"`Add ${product.name} to cart`"},[o.product.inStock?(i(),d("span",wt,"ðŸ›’ Add")):(i(),d("span",Ct,"Not Available"))],10,$t)])])])}}}),Pt=B(St,[["__scopeId","data-v-7334e277"]]),At={class:"min-h-screen bg-base-100"},Ft={class:"max-w-7xl mx-auto px-4 py-8"},Lt={class:"flex flex-col md:flex-row gap-4 mb-8"},Mt={class:"flex-1"},jt={class:"form-control"},Bt=["disabled"],Nt={class:"w-full md:w-48"},Tt={class:"form-control"},Vt=["disabled"],Ut={class:"flex flex-col lg:flex-row gap-8"},It={class:"lg:w-48 flex-shrink-0"},Rt={class:"card bg-base-200 shadow-sm"},qt={class:"card-body"},Dt={class:"form-control"},Et={class:"space-y-2"},Ht=["value"],Qt={class:"label-text"},zt={class:"flex-1"},Kt={class:"mb-6 flex justify-between items-center"},Ot={class:"text-xl font-semibold"},Gt={key:0,class:"text-sm text-base-content/70"},Zt={class:"font-semibold"},Jt={class:"text-sm text-base-content/70"},Wt={key:0,class:"flex justify-center items-center py-12"},Xt={key:1,class:"alert alert-error mb-6"},Yt={key:2,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 mb-8"},te={key:3,class:"text-center py-12"},ee={key:4,class:"flex justify-center items-center gap-2"},se=["disabled"],ae={class:"space-x-1"},oe=["onClick"],le={key:0,class:"px-2"},ne=["disabled"],ie=M({__name:"ProductListing",setup(o){const y=D(),u=p([]),v=p(!1),g=p(null),r=p(""),b=p("All"),x=p("name"),l=p(12),c=p(1),N=m(()=>{const s=new Set(u.value.map(e=>e.category));return["All",...Array.from(s).sort()]}),P=m(()=>{let s=u.value;if(r.value){const e=r.value.toLowerCase();s=s.filter(a=>a.name.toLowerCase().includes(e)||a.description.toLowerCase().includes(e)||a.sku?.toLowerCase().includes(e))}switch(b.value!=="All"&&(s=s.filter(e=>e.category===b.value)),x.value){case"price-asc":s=[...s].sort((e,a)=>e.price-a.price);break;case"price-desc":s=[...s].sort((e,a)=>a.price-e.price);break;case"rating":s=[...s].sort((e,a)=>a.rating-e.rating);break;default:s=[...s].sort((e,a)=>e.name.localeCompare(a.name))}return s}),A=m(()=>P.value.length),f=m(()=>Math.ceil(A.value/l.value)),k=m(()=>{const s=(c.value-1)*l.value;return P.value.slice(s,s+l.value)}),T=m(()=>c.value>1),V=m(()=>c.value<f.value),F=async()=>{v.value=!0,g.value=null;try{u.value=[{id:"1",name:'Laptop Pro 15"',sku:"LP-001",description:"High-performance laptop for professionals",price:1299.99,image:"https://via.placeholder.com/300x200?text=Laptop",category:"Electronics",rating:4.8,inStock:!0,stockQuantity:5},{id:"2",name:"USB-C Cable",sku:"AC-001",description:"Durable USB-C to USB-C cable",price:19.99,image:"https://via.placeholder.com/300x200?text=USB-C",category:"Accessories",rating:4.5,inStock:!0,stockQuantity:50}]}catch(s){g.value=s instanceof Error?s.message:"Failed to load products"}finally{v.value=!1}},U=s=>{y.addItem({id:s.id,name:s.name,price:s.price,image:s.image,quantity:1}),console.log(`Added ${s.name} to cart`)},_=s=>{s>=1&&s<=f.value&&(c.value=s,window.scrollTo({top:0,behavior:"smooth"}))};return E(()=>{F()}),(s,e)=>(i(),d("div",At,[e[17]||(e[17]=t("header",{class:"bg-primary text-primary-content py-6 px-4"},[t("div",{class:"max-w-7xl mx-auto"},[t("h1",{class:"text-3xl font-bold mb-2"},"B2Connect Store"),t("p",{class:"text-primary-content/90"},"Find the best products for your business")])],-1)),t("div",Ft,[t("div",Lt,[t("div",Mt,[t("div",jt,[e[6]||(e[6]=t("label",{class:"label"},[t("span",{class:"label-text"},"Search products")],-1)),$(t("input",{"onUpdate:modelValue":e[0]||(e[0]=a=>r.value=a),type:"text",placeholder:"Search by name, SKU, or description...",class:"input input-bordered w-full",disabled:v.value},null,8,Bt),[[H,r.value]])])]),t("div",Nt,[t("div",Tt,[e[8]||(e[8]=t("label",{class:"label"},[t("span",{class:"label-text"},"Sort by")],-1)),$(t("select",{"onUpdate:modelValue":e[1]||(e[1]=a=>x.value=a),class:"select select-bordered",disabled:v.value},[...e[7]||(e[7]=[t("option",{value:"name"},"Name (A-Z)",-1),t("option",{value:"price-asc"},"Price (Low to High)",-1),t("option",{value:"price-desc"},"Price (High to Low)",-1),t("option",{value:"rating"},"Rating (High to Low)",-1)])],8,Vt),[[Q,x.value]])])])]),t("div",Ut,[t("aside",It,[t("div",Rt,[t("div",qt,[e[10]||(e[10]=t("h3",{class:"card-title text-base mb-4"},"Filters",-1)),t("div",Dt,[e[9]||(e[9]=t("label",{class:"label"},[t("span",{class:"label-text font-semibold"},"Category")],-1)),t("div",Et,[(i(!0),d(w,null,C(N.value,a=>(i(),d("label",{key:a,class:"label cursor-pointer"},[$(t("input",{type:"radio",value:a,"onUpdate:modelValue":e[2]||(e[2]=L=>b.value=L),class:"radio radio-primary"},null,8,Ht),[[K,b.value]]),t("span",Qt,n(a),1)]))),128))])]),e[11]||(e[11]=z('<div class="form-control mt-4" data-v-a95a9a62><label class="label" data-v-a95a9a62><span class="label-text font-semibold" data-v-a95a9a62>Price Range</span></label><div class="flex gap-2 items-center" data-v-a95a9a62><input type="range" min="0" max="5000" class="range range-sm flex-1" disabled data-v-a95a9a62></div><p class="text-xs text-base-content/70 mt-2" data-v-a95a9a62>â‚¬0 - â‚¬5000 (coming soon)</p></div><div class="form-control mt-4" data-v-a95a9a62><label class="label cursor-pointer" data-v-a95a9a62><span class="label-text" data-v-a95a9a62>In Stock Only</span><input type="checkbox" class="checkbox checkbox-primary" disabled data-v-a95a9a62></label></div>',2))])])]),t("main",zt,[t("div",Kt,[t("div",null,[t("h2",Ot,n(A.value)+" Products",1),r.value?(i(),d("p",Gt,[e[12]||(e[12]=j(" Found for: ",-1)),t("span",Zt,'"'+n(r.value)+'"',1)])):h("",!0)]),t("p",Jt,"Page "+n(c.value)+" of "+n(f.value),1)]),v.value?(i(),d("div",Wt,[...e[13]||(e[13]=[t("div",{class:"flex flex-col items-center gap-4"},[t("span",{class:"loading loading-spinner loading-lg text-primary"}),t("p",{class:"text-base-content/70"},"Loading products...")],-1)])])):g.value?(i(),d("div",Xt,[t("div",null,[t("span",null,n(g.value),1)]),t("button",{onClick:F,class:"btn btn-sm btn-ghost"},"Retry")])):k.value.length>0?(i(),d("div",Yt,[(i(!0),d(w,null,C(k.value,a=>(i(),O(Pt,{key:a.id,product:a,onAddToCart:U},null,8,["product"]))),128))])):(i(),d("div",te,[e[14]||(e[14]=t("div",{class:"text-6xl mb-4"},"ðŸ”",-1)),e[15]||(e[15]=t("h3",{class:"text-xl font-semibold mb-2"},"No products found",-1)),e[16]||(e[16]=t("p",{class:"text-base-content/70 mb-4"},"Try adjusting your filters or search query",-1)),t("button",{onClick:e[3]||(e[3]=()=>{r.value="",b.value="All"}),class:"btn btn-primary"}," Clear Filters ")])),!v.value&&k.value.length>0?(i(),d("div",ee,[t("button",{onClick:e[4]||(e[4]=a=>_(c.value-1)),disabled:!T.value,class:"btn btn-sm"}," â† Previous ",8,se),t("div",ae,[(i(!0),d(w,null,C(Math.min(5,f.value),a=>(i(),d("button",{key:a,onClick:L=>_(a),class:S(["btn btn-sm",c.value===a?"btn-primary":"btn-ghost"])},n(a),11,oe))),128)),f.value>5?(i(),d("span",le,"...")):h("",!0)]),t("button",{onClick:e[5]||(e[5]=a=>_(c.value+1)),disabled:!V.value,class:"btn btn-sm"}," Next â†’ ",8,ne)])):h("",!0)])])])]))}}),re=B(ie,[["__scopeId","data-v-a95a9a62"]]);export{re as default};
