repos:
  - repo: https://github.com/Yelp/detect-secrets
    rev: 1.6.1
    hooks:
      - id: detect-secrets
        args: ["--baseline", ".secrets.baseline"]

  - repo: local
    hooks:
      - id: yamllint
        name: yamllint
        entry: yamllint -c .yamllint
        language: system
        files: \\.(yml|yaml)$

  - repo: local
    hooks:
      - id: dotnet-format
        name: dotnet format
        entry: dotnet format --check --verbosity diagnostic
        language: system
        files: \\.(cs|csproj|sln|slnx)$
        pass_filenames: false

  - repo: local
    hooks:
      - id: dotnet-build-stylecop
        name: dotnet build (StyleCop check)
        entry: dotnet build --verbosity minimal --warnaserror
        language: system
        files: \\.(cs|csproj|sln|slnx)$
        pass_filenames: false

  - repo: local
    hooks:
      - id: roslyn-batch-analysis
        name: Roslyn Batch Analysis (Phase 2)
        entry: powershell.exe -ExecutionPolicy Bypass -File scripts/roslyn-batch-analysis.ps1 -Domain all
        language: system
        files: \\.(cs|csproj|sln|slnx)$
        pass_filenames: false
