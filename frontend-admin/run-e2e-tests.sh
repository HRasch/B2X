#!/bin/bash\n\n# E2E Test Runner Script\n# Runs comprehensive E2E tests for Admin Frontend\n\nset -e\n\necho \"üß™ B2Connect Admin Frontend - E2E Test Suite\"\necho \"================================================\"\n\n# Colors\nGREEN='\\033[0;32m'\nYELLOW='\\033[1;33m'\nRED='\\033[0;31m'\nNC='\\033[0m' # No Color\n\n# Check if required services are running\necho -e \"${YELLOW}Checking prerequisites...${NC}\"\n\necho \"Checking API Gateway (port 6000)...\"\nif ! nc -z localhost 6000 2>/dev/null; then\n  echo -e \"${RED}‚ùå API Gateway not running on port 6000${NC}\"\n  echo \"Please start the backend: cd backend/services/AppHost && dotnet run\"\n  exit 1\nfi\necho -e \"${GREEN}‚úÖ API Gateway is running${NC}\"\n\n# Check Frontend dev server\necho \"Checking Frontend dev server (port 5174)...\"\nif ! nc -z localhost 5174 2>/dev/null; then\n  echo -e \"${YELLOW}‚ö†Ô∏è  Frontend dev server not running on port 5174${NC}\"\n  echo \"Playwright will attempt to start it automatically...\"\nelse\n  echo -e \"${GREEN}‚úÖ Frontend dev server is running${NC}\"\nfi\n\necho \"\"\necho -e \"${YELLOW}Running E2E Tests...${NC}\"\necho \"\"\n\n# Parse arguments\nTEST_MODE=\"${1:-run}\"\n\ncase $TEST_MODE in\n  \"ui\")\n    echo \"Running tests in UI mode (interactive)...\"\n    npm run e2e:ui\n    ;;\n  \"debug\")\n    echo \"Running tests in DEBUG mode...\"\n    npm run e2e:debug\n    ;;\n  \"watch\")\n    echo \"Running tests in WATCH mode...\"\n    npx playwright test --watch\n    ;;\n  \"run\")\n    echo \"Running all E2E tests...\"\n    npm run e2e\n    ;;\n  \"auth\")\n    echo \"Running authentication tests only...\"\n    npx playwright test tests/e2e/auth.spec.ts\n    ;;\n  \"cms\")\n    echo \"Running CMS tests only...\"\n    npx playwright test tests/e2e/cms.spec.ts\n    ;;\n  \"catalog\")\n    echo \"Running catalog tests only...\"\n    npx playwright test tests/e2e/shop.spec.ts\n    ;;\n  \"integration\")\n    echo \"Running integration tests only...\"\n    npx playwright test tests/e2e/integration.spec.ts\n    ;;\n  \"performance\")\n    echo \"Running performance tests only...\"\n    npx playwright test tests/e2e/performance.spec.ts\n    ;;\n  \"report\")\n    echo \"Showing test report...\"\n    npx playwright show-report\n    ;;\n  *)\n    echo \"Usage: $0 [mode]\"\n    echo \"\"\n    echo \"Modes:\"\n    echo \"  run          - Run all E2E tests (default)\"\n    echo \"  ui           - Run tests in interactive UI mode\"\n    echo \"  debug        - Run tests in debug mode\"\n    echo \"  watch        - Run tests in watch mode\"\n    echo \"  auth         - Run authentication tests only\"\n    echo \"  cms          - Run CMS tests only\"\n    echo \"  catalog      - Run catalog tests only\"\n    echo \"  integration  - Run integration tests only\"\n    echo \"  performance  - Run performance tests only\"\n    echo \"  report       - Show HTML test report\"\n    exit 1\n    ;;\nesac\n\necho \"\"\necho -e \"${GREEN}‚úÖ Test suite completed!${NC}\"\n\nif [ \"$TEST_MODE\" != \"ui\" ] && [ \"$TEST_MODE\" != \"debug\" ]; then\n  echo \"\"\n  echo -e \"${YELLOW}View detailed report with:${NC}\"\n  echo \"npm run e2e:report\"\n  echo \"or\"\n  echo \"npx playwright show-report\"\nfi\n